# 从 URL 到页面展示

![](https://static001.geekbang.org/resource/image/92/5d/92d73c75308e50d5c06ad44612bcb45d.png)

## 用户输入

- 如果是搜索内容，使用默认搜索引擎合成带关键词的新 URL

- 如果是 URL，浏览器会根据规则加上协议，合成完整的 URL

- 当用户输入回车后，页面更新前，会触发当前页面的 beforeunload 事件

## URL 请求流程

按下回车后，浏览器进程把请求发送到网络进程，发起真正的请求流程

- 检查缓存。如果有缓存直接返回该资源。

- 没有缓存：建立连接，请求资源

  1. 请求 DNS 服务器（也有缓存）获取 IP 地址
  2. 通过 IP 建立 TCP 连接
  3. 连接建立后，构建请求头等信息。通过 HTTP 向服务器发送请求信息获取响应信息
  4. 根据响应报文的 content-type 的值来决定如何处理响应。
  5. 如果 Content-Type 字段的值被浏览器判断为下载类型，那么该请求会被提交给浏览器的下载管理器，同时该 URL 请求的导航流程就此结束。但如果是 HTML，那么浏览器则会继续进行导航流程。由于 Chrome 的页面渲染是运行在渲染进程中的，所以接下来就需要准备渲染进程了。

## 准备渲染进程
